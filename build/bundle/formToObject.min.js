!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.formToObject=t():e.formToObject=t()}(this,(()=>(()=>{"use strict";var e={746:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FormToObject=void 0;const i=n(143),r=n(593);t.FormToObject=class{constructor(e,t){if(this.formSelector="",this.$form=null,this.$formElements=[],this.settings={includeEmptyValuedElements:!1,includeSubmitButton:!1,includeDisabledFields:!1,w3cSuccessfulControlsOnly:!1,selectNameWithEmptyBracketsReturnsArray:!0,checkBoxNameWithEmptyBracketsReturnsArray:!0,debug:!0},!e)throw new Error("No selector was passed.");if(this.formSelector=e,void 0!==t&&(0,r.getObjLength)(t)>0&&(0,r.extend)(this.settings,t),!this.initForm())throw new Error("The <form> DOM element could not be found.");if(!this.initFormElements())throw new Error("No <form> DOM elements were found. Form is empty.")}initForm(){return"string"==typeof this.formSelector?(this.$form=document.getElementById(this.formSelector),(0,i.isDomElementNode)(this.$form)):!!(0,i.isDomElementNode)(this.formSelector)&&(this.$form=this.formSelector,!0)}initFormElements(){return this.$formElements=(0,i.getAllFormElementsAsArray)(this.$form),this.$formElements.length>0}convertToObj(){let e,t,n,o=0;const s=Object.create(null);for(o=0;o<this.$formElements.length;o++)t=this.$formElements[o],!t.name||""===t.name||t.disabled&&!this.settings.includeDisabledFields||(0,i.isRadio)(t)&&!(0,i.isChecked)(t)||(n=this.getNodeValues(t),(!1!==n||this.settings.includeEmptyValuedElements)&&(e=(0,r.convertFieldNameToArrayOfKeys)(t.name),e&&1===e.length&&this.processSingleLevelNode(t,e,n||"",s),e&&e.length>1&&((0,i.isSelectMultiple)(t)&&this.settings.selectNameWithEmptyBracketsReturnsArray&&2===e.length&&"[]"===e[1]&&(e=[e[0]]),(0,i.isCheckbox)(t)&&this.settings.checkBoxNameWithEmptyBracketsReturnsArray&&2===e.length&&"[]"===e[1]&&(e=[e[0]]),this.processMultiLevelNode(t,e,n||"",s))));return s}getNodeValues(e){var t;if((0,i.isRadio)(e))return!!(0,i.isChecked)(e)&&e.value;if((0,i.isCheckbox)(e))return!!(0,i.isChecked)(e)&&e.value;if((0,i.isFileField)(e))return!!(0,i.isUploadForm)(this.$form)&&((0,i.isFileList)(e)&&(null===(t=null==e?void 0:e.files)||void 0===t?void 0:t.length)?e.files:!(!e.value||""===e.value)&&e.value);if((0,i.isTextarea)(e))return!(!e.value||""===e.value)&&e.value;if((0,i.isSelectSimple)(e))return e.value&&""!==e.value?e.value:!(!e.options||!e.options.length||""===e.options[0].value)&&e.options[0].value;if((0,i.isSelectMultiple)(e)){if(e.options&&e.options.length>0){const t=[];return(0,r.forEach)(e.options,(function(e){e.selected&&t.push(e.value)})),(this.settings.includeEmptyValuedElements||!!t.length)&&t}return!1}return(0,i.isSubmitButton)(e)?!!this.settings.includeSubmitButton&&(e.value&&""!==e.value?e.value:!(!e.innerText||""===e.innerText)&&e.innerText):"undefined"!=typeof e.value&&((this.settings.includeEmptyValuedElements||""!==e.value)&&e.value)}processSingleLevelNode(e,t,n,r){const o=t[0];if((0,i.isRadio)(e))return!1!==n?(r[o]=n,n):void 0;if((0,i.isCheckbox)(e)){if(!1===n)return;if(this.formElementHasSiblings(e))return r[o]||(r[o]=[]),r[o].push(n);r[o]=n}if((0,i.isSelectMultiple)(e)){if(!1===n)return;r[o]=n}return r[o]=n,n}processMultiLevelNode(e,t,n,o){const s=t[0];return t.length>1?"[]"===s?(o[(0,r.getNextIntegerKey)(o)]=Object.create(null),this.processMultiLevelNode(e,t.splice(1,t.length),n,o[(0,r.getLastIntegerKey)(o)])):(o[s]&&(0,r.getObjLength)(o[s])>0||((0,i.isSelectMultiple)(e)&&t.length>=2&&"[]"===t[1]?o[s]=[]:o[s]=Object.create(null)),this.processMultiLevelNode(e,t.splice(1,t.length),n,o[s])):1===t.length?"[]"===s?(o[(0,r.getNextIntegerKey)(o)]=n,o):(this.processSingleLevelNode(e,t,n,o),o):void 0}formElementHasSiblings(e){const t=e.name;return Array.prototype.filter.call(this.$formElements,(e=>e.name===t)).length>1}}},143:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFileList=t.isChecked=t.isSubmitButton=t.isSelectMultiple=t.isSelectSimple=t.isTextarea=t.isFileField=t.isCheckbox=t.isRadio=t.isUploadForm=t.isDomElementNode=t.getAllFormElementsAsArray=void 0,t.getAllFormElementsAsArray=function(e){if("querySelectorAll"in e)return[...null==e?void 0:e.querySelectorAll("input, textarea, select")];if("getElementsByTagName"in e)return[...e.getElementsByTagName("input"),...e.getElementsByTagName("textarea"),...e.getElementsByTagName("select")];throw new Error("The <form> is either not a valid DOM element or the browser is very old.")},t.isDomElementNode=function(e){return Boolean(e)&&"object"==typeof e&&"nodeType"in e&&1===e.nodeType},t.isUploadForm=function(e){return Boolean(e.enctype&&"multipart/form-data"===e.enctype)},t.isRadio=function(e){return"INPUT"===e.nodeName&&"radio"===e.type},t.isCheckbox=function(e){return"INPUT"===e.nodeName&&"checkbox"===e.type},t.isFileField=function(e){return"INPUT"===e.nodeName&&"file"===e.type},t.isTextarea=function(e){return"TEXTAREA"===e.nodeName},t.isSelectSimple=function(e){return"SELECT"===e.nodeName&&"select-one"===e.type},t.isSelectMultiple=function(e){return"SELECT"===e.nodeName&&"select-multiple"===e.type},t.isSubmitButton=function(e){return("BUTTON"===e.nodeName||"INPUT"===e.nodeName)&&"submit"===e.type},t.isChecked=function(e){return e.checked},t.isFileList=function(e){return window.FileList&&e.files instanceof window.FileList}},593:(e,t)=>{function n(e){if(e&&"object"==typeof e)return Object.keys(e).filter((function(e){return!isNaN(parseInt(e,10))})).splice(-1)[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.convertFieldNameToArrayOfKeys=t.forEach=t.extend=t.getObjLength=t.getNextIntegerKey=t.getLastIntegerKey=t.checkForLastNumericKey=void 0,t.checkForLastNumericKey=n,t.getLastIntegerKey=function(e){const t=n(e);return"string"==typeof t?parseInt(t,10):0},t.getNextIntegerKey=function(e){const t=n(e);return"string"==typeof t?parseInt(t,10)+1:0},t.getObjLength=function(e){if("object"!=typeof e||null===e)return 0;let t,n=0;if("function"==typeof Object.keys)n=Object.keys(e).length;else for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n++;return n},t.extend=function(e,t){let n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.forEach=function(e,t){return Array.prototype.forEach.call(e,t)},t.convertFieldNameToArrayOfKeys=function(e){return-1!==e.indexOf(".")?e.split("."):-1!==e.indexOf("[")&&-1!==e.indexOf("]")?e.match(/[^[\]]+|\[]/g):[e]}}},t={};function n(i){var r=t[i];if(r!==undefined)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}var i={};return(()=>{var e=i;const t=n(746);e["default"]=function(e,n){try{return new t.FormToObject(e,n).convertToObj()}catch(i){console.log("formToObject ERROR:",i.message)}}})(),i=i["default"]})()));