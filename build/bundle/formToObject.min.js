!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.formToObject=t():e.formToObject=t()}(this,(()=>(()=>{"use strict";var e={746:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FormToObject=void 0;const o=n(143),i=n(593);class r{constructor(e,t){if(this.formSelector="",this.$form=null,this.$formElements=[],this.settings={includeEmptyValuedElements:!1,w3cSuccessfulControlsOnly:!1,debug:!0},!e)throw new Error("No selector was passed.");if(this.formSelector=e,void 0!==t&&(0,i.getObjLength)(t)>0&&(0,i.extend)(this.settings,t),!this.initForm())throw new Error("The <form> DOM element could not be found.");if(!this.initFormElements())throw new Error("No <form> DOM elements were found. Form is empty.")}initForm(){return"string"==typeof this.formSelector?(this.$form=document.getElementById(this.formSelector),(0,o.isDomElementNode)(this.$form)):!!(0,o.isDomElementNode)(this.formSelector)&&(this.$form=this.formSelector,!0)}initFormElements(){var e;return this.$formElements=[...null===(e=this.$form)||void 0===e?void 0:e.querySelectorAll("input, textarea, select")],this.$formElements.length>0}convertToObj(){let e,t,n,s=0;const l=Object.create(null);for(s=0;s<this.$formElements.length;s++)t=this.$formElements[s],!t.name||""===t.name||t.disabled||(0,o.isRadio)(t)&&!(0,o.isChecked)(t)||(n=this.getNodeValues(t),(!1!==n||this.settings.includeEmptyValuedElements)&&(e=t.name.match(r.keyRegex),e&&1===e.length&&this.processSingleLevelNode(t,e,n||"",l),e&&e.length>1&&this.processMultiLevelNode(t,e,n||"",l)));return(0,i.getObjLength)(l)>0&&l}getNodeValues(e){var t;if((0,o.isRadio)(e))return!!(0,o.isChecked)(e)&&e.value;if((0,o.isCheckbox)(e))return!!(0,o.isChecked)(e)&&e.value;if((0,o.isFileField)(e))return!!(0,o.isUploadForm)(this.$form)&&((0,o.isFileList)(e)&&(null===(t=null==e?void 0:e.files)||void 0===t?void 0:t.length)?e.files:!(!e.value||""===e.value)&&e.value);if((0,o.isTextarea)(e))return!(!e.value||""===e.value)&&e.value;if((0,o.isSelectSimple)(e))return e.value&&""!==e.value?e.value:!(!e.options||!e.options.length||""===e.options[0].value)&&e.options[0].value;if((0,o.isSelectMultiple)(e)){if(e.options&&e.options.length>0){const t=[];return(0,i.forEach)(e.options,(function(e){e.selected&&t.push(e.value)})),(this.settings.includeEmptyValuedElements||!!t.length)&&t}return!1}return(0,o.isSubmitButton)(e)?e.value&&""!==e.value?e.value:!(!e.innerText||""===e.innerText)&&e.innerText:void 0!==e.value&&((this.settings.includeEmptyValuedElements||""!==e.value)&&e.value)}processSingleLevelNode(e,t,n,i){const r=t[0];if((0,o.isRadio)(e))return!1!==n?(i[r]=n,n):void 0;if((0,o.isCheckbox)(e)){if(!1===n)return;if(this.formElementHasSiblings(e))return i[r]||(i[r]=[]),i[r].push(n);i[r]=n}if((0,o.isSelectMultiple)(e)){if(!1===n)return;i[r]=n}return i[r]=n,n}processMultiLevelNode(e,t,n,o){const r=t[0];return t.length>1?"[]"===r?(o[(0,i.getNextIntegerKey)(o)]=Object.create(null),this.processMultiLevelNode(e,t.splice(1,t.length),n,o[(0,i.getLastIntegerKey)(o)])):(o[r]&&(0,i.getObjLength)(o[r])>0||(o[r]=Object.create(null)),this.processMultiLevelNode(e,t.splice(1,t.length),n,o[r])):1===t.length?"[]"===r?(o[(0,i.getNextIntegerKey)(o)]=n,o):(this.processSingleLevelNode(e,t,n,o),o):void 0}formElementHasSiblings(e){const t=e.name;return Array.prototype.filter.call(this.$formElements,(e=>e.name===t)).length>1}}t.FormToObject=r,r.keyRegex=/[^[\]]+|\[]/g},143:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFileList=t.isChecked=t.isSubmitButton=t.isSelectMultiple=t.isSelectSimple=t.isTextarea=t.isFileField=t.isCheckbox=t.isRadio=t.isUploadForm=t.isDomElementNode=void 0,t.isDomElementNode=function(e){return Boolean(e)&&"object"==typeof e&&"nodeType"in e&&1===e.nodeType},t.isUploadForm=function(e){return Boolean(e.enctype&&"multipart/form-data"===e.enctype)},t.isRadio=function(e){return"INPUT"===e.nodeName&&"radio"===e.type},t.isCheckbox=function(e){return"INPUT"===e.nodeName&&"checkbox"===e.type},t.isFileField=function(e){return"INPUT"===e.nodeName&&"file"===e.type},t.isTextarea=function(e){return"TEXTAREA"===e.nodeName},t.isSelectSimple=function(e){return"SELECT"===e.nodeName&&"select-one"===e.type},t.isSelectMultiple=function(e){return"SELECT"===e.nodeName&&"select-multiple"===e.type},t.isSubmitButton=function(e){return"BUTTON"===e.nodeName&&"submit"===e.type},t.isChecked=function(e){return e.checked},t.isFileList=function(e){return window.FileList&&e.files instanceof window.FileList}},593:(e,t)=>{function n(e){if(e&&"object"==typeof e)return Object.keys(e).filter((function(e){return!isNaN(parseInt(e,10))})).splice(-1)[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.extend=t.getObjLength=t.getNextIntegerKey=t.getLastIntegerKey=t.checkForLastNumericKey=void 0,t.checkForLastNumericKey=n,t.getLastIntegerKey=function(e){const t=n(e);return"string"==typeof t?parseInt(t,10):0},t.getNextIntegerKey=function(e){const t=n(e);return"string"==typeof t?parseInt(t,10)+1:0},t.getObjLength=function(e){if("object"!=typeof e||null===e)return 0;let t,n=0;if("function"==typeof Object.keys)n=Object.keys(e).length;else for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n++;return n},t.extend=function(e,t){let n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.forEach=function(e,t){return Array.prototype.forEach.call(e,t)}}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}var o={};return(()=>{var e=o;const t=n(746);e.default=function(e,n){try{return new t.FormToObject(e,n).convertToObj()}catch(e){console.log("formToObject ERROR:",e.message)}}})(),o=o.default})()));